<ndm-page
    class="page-kvas-ui"
    label="KVAS UI"
    progress="vm.progress"
    description=" "
>
    <div class="backend-settings">
        <br/>
        <br/>

        {{ vm.settings | json }}

        <form name="vm.settingsForm">
            <ndm-input
                name="kvasBackendAddress"
                label="{{ vm.l10n.backend.address }}"
                model="vm.backendConnection.address"
                validation="address"
                max-length="256"
            >
            </ndm-input>

            <ndm-input
                name="kvasBackendUsername"
                label="{{ vm.l10n.backend.username }}"
                model="vm.backendConnection.username"
                validation="login"
            >
            </ndm-input>

            <ndm-input
                name="kvasBackendPassword"
                label="{{ vm.l10n.backend.password }}"
                model="vm.backendConnection.password"
                password="true"
                validation="password"
            >
            </ndm-input>

            <ndm-button
                on-click="vm.testBackendConnection"
                label="{{ vm.l10n.backend.testConnectionBtn }}"
            >
            </ndm-button>
        </form>
    </div>

    <br/>

    <pre>
        {{ vm.latestResponse | json }}
    </pre>

    <br/>
    <br/>

    <div class="page-kvas-ui__unblock-list unblock-list">
        <div class="unblock-list__toolbar">
            <ndm-button
                on-click="vm.refreshUnblockList"
                label="{{vm.l10n.unblockList.refresh }}"
            >
            </ndm-button>

            <ndm-button
                on-click="vm.addHostToUnblock"
                label="{{vm.l10n.unblockList.addHost }}"
            >
            </ndm-button>
        </div>


        <div class="unblock-list">
            <div
                ng-repeat="item in vm.list"
                class="unblock-list__item"
            >
                {{ item }}
            </div>
        </div>
    </div>

</ndm-page>